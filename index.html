<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Livros</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Catálogo de Livros</h1>
        <div class="filters">
            <input type="text" id="title" placeholder="Buscar por título">
            <input type="text" id="author" placeholder="Buscar por autor">
            <input type="number" id="year" placeholder="Buscar por ano">
            <input type="text" id="language" placeholder="Buscar por idioma">
            <button id="search">Buscar</button>
        </div>
        <div class="actions">
            <button id="topRated">10 Melhores Livros</button>
            <button id="mostDownloaded">10 Mais Baixados</button>
        </div>
        <div id="books" class="books"></div>
    </div>
    <script src="document.getElementById('search').addEventListener('click', () => {
    const title = document.getElementById('title').value;
    const author = document.getElementById('author').value;
    const year = document.getElementById('year').value;
    const language = document.getElementById('language').value;

    fetchBooks({ title, author, year, language });
});

document.getElementById('topRated').addEventListener('click', () => {
    fetchBooks({ sortBy: 'rating', limit: 10 });
});

document.getElementById('mostDownloaded').addEventListener('click', () => {
    fetchBooks({ sortBy: 'downloads', limit: 10 });
});

async function fetchBooks(filters) {
    let url = 'https://api.example.com/books?';
    if (filters.title) url += `title=${filters.title}&`;
    if (filters.author) url += `author=${filters.author}&`;
    if (filters.year) url += `year=${filters.year}&`;
    if (filters.language) url += `language=${filters.language}&`;
    if (filters.sortBy) url += `sortBy=${filters.sortBy}&`;
    if (filters.limit) url += `limit=${filters.limit}&`;

    const response = await fetch(url);
    const books = await response.json();
    displayBooks(books);
}

function displayBooks(books) {
    const booksContainer = document.getElementById('books');
    booksContainer.innerHTML = '';

    books.forEach(book => {
        const bookElement = document.createElement('div');
        bookElement.classList.add('book');
        
        bookElement.innerHTML = `
            <img src="${book.cover}" alt="${book.title}">
            <h3>${book.title}</h3>
            <p>${book.author}</p>
            <p>${book.year}</p>
            <p>${book.language}</p>
        `;
        
        booksContainer.appendChild(bookElement);
    });
}
"></script>
</body>
</html>
